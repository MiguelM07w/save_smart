/* =========================================================
   USER HOME - ENHANCED & ORGANIZED (Creative Tim style)
   Autor: Tú + ajustes de estilo y orden
   Secciones:
   1) Variables y utilidades
   2) Layout general
   3) Summary Cards
   4) Transactions (columnas, buscador, lista, items)
   5) Forms (sección, inputs, botones con iconos)
   6) Botones y acciones
   7) Responsive
   8) Accesibilidad / Reduced motion
   ========================================================= */


/* ==================== 1) VARIABLES Y UTILIDADES ==================== */
:root {
  /* Colores base */
  --color-bg: #f5f7fb;
  --color-card: #ffffff;
  --color-text: #212529;
  --color-muted: #6c757d;

  /* Grises */
  --gray-50: #f8f9fa;
  --gray-100: #f1f3f5;
  --gray-200: #e9ecef;
  --gray-300: #cbd5e0;
  --gray-400: #a0aec0;

  /* Marca / estados */
  --primary: #667eea;
  --primary-weak: rgba(102, 126, 234, 0.1);
  --green-500: #48bb78;
  --green-600: #38a169;
  --red-500: #f56565;
  --red-600: #e53e3e;
  --violet-grad-start: #667eea;
  --violet-grad-end: #764ba2;
  --orange-400: #f6ad55;
  --orange-500: #ed8936;

  /* Radios y sombras */
  --radius-8: 8px;
  --radius-10: 10px;
  --radius-12: 12px;

  --shadow-xs: 0 1px 3px rgba(0,0,0,.06), 0 1px 2px rgba(0,0,0,.04);
  --shadow-sm: 0 2px 12px rgba(0,0,0,.08);
  --shadow-md: 0 8px 22px rgba(0,0,0,.12);
  --shadow-lg: 0 16px 32px rgba(0,0,0,.14);

  --ring: 0 0 0 3px rgba(102, 126, 234, 0.18);

  /* Transición */
  --trans: 200ms ease;
}

/* Helpers */
.shadow-card { box-shadow: var(--shadow-sm); }
.shadow-card-lg { box-shadow: var(--shadow-md); }
.ring { box-shadow: var(--ring); }
.round-10 { border-radius: var(--radius-10); }
.round-12 { border-radius: var(--radius-12); }


/* ==================== 2) LAYOUT GENERAL ==================== */
.user-home {
  max-width: 1400px;
  margin: 0 auto;
  padding: 1rem;
  background: transparent;
}


/* ==================== 3) SUMMARY CARDS ==================== */
.summary-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.summary-card {
  background: var(--color-card);
  border-radius: var(--radius-12);
  padding: 1.75rem;
  display: flex;
  align-items: center;
  gap: 1.25rem;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--gray-200);
  transition: transform var(--trans), box-shadow var(--trans);
}

.summary-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-md);
}

.card-icon {
  width: 64px;
  height: 64px;
  border-radius: var(--radius-12);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  flex-shrink: 0;
  color: #fff;
}

.income-card .card-icon {
  background: linear-gradient(135deg, var(--green-500) 0%, var(--green-600) 100%);
  box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
}

.expense-card .card-icon {
  background: linear-gradient(135deg, var(--red-500) 0%, var(--red-600) 100%);
  box-shadow: 0 4px 12px rgba(245, 101, 101, 0.3);
}

.balance-card.positive .card-icon {
  background: linear-gradient(135deg, var(--violet-grad-start) 0%, var(--violet-grad-end) 100%);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.balance-card.negative .card-icon {
  background: linear-gradient(135deg, var(--orange-400) 0%, var(--orange-500) 100%);
  box-shadow: 0 4px 12px rgba(246, 173, 85, 0.3);
}

.card-content { flex: 1; }

.card-content h3 {
  margin: 0 0 0.5rem 0;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.card-amount {
  margin: 0 0 0.25rem 0;
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--color-text);
}

.card-count {
  font-size: 0.875rem;
  color: var(--color-muted);
}


/* ==================== 4) TRANSACTIONS SECTION ==================== */
.transactions-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
}

.transaction-column {
  background: var(--color-card);
  border-radius: var(--radius-12);
  padding: 1.5rem;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--gray-200);
}

.column-header {
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--gray-200);
}

.column-header h2 {
  margin: 0 0 1rem 0;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text);
}

/* Buscador */
.search-input {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 2px solid var(--gray-200);
  border-radius: var(--radius-10);
  font-size: 0.95rem;
  transition: border-color var(--trans), box-shadow var(--trans), background var(--trans);
  background: var(--gray-50);
  color: var(--color-text);
}

.search-input:focus {
  outline: none;
  border-color: var(--primary);
  background: #ffffff;
  box-shadow: var(--ring);
}

.search-input::placeholder { color: var(--color-muted); }

/* Lista de transacciones (Ahora con sombra propia) */
.transaction-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  max-height: 600px;
  overflow-y: auto;
  padding: 1rem;
  padding-right: 0.75rem;
  background: var(--gray-50);
  border: 1px solid var(--gray-200);
  border-radius: var(--radius-10);
  box-shadow: var(--shadow-xs);
}

/* Scrollbar */
.transaction-list::-webkit-scrollbar { width: 8px; }
.transaction-list::-webkit-scrollbar-track {
  background: var(--gray-50);
  border-radius: 10px;
}
.transaction-list::-webkit-scrollbar-thumb {
  background: var(--gray-300);
  border-radius: 10px;
}
.transaction-list::-webkit-scrollbar-thumb:hover { background: var(--gray-400); }

/* Item */
.transaction-item {
  background: var(--color-card);
  border-radius: var(--radius-10);
  padding: 1.25rem;
  border: 2px solid transparent;
  transition: transform var(--trans), box-shadow var(--trans), border-color var(--trans), background var(--trans);
  box-shadow: var(--shadow-xs);
}

.transaction-item:hover {
  background: #ffffff;
  border-color: var(--gray-200);
  box-shadow: var(--shadow-sm);
  transform: translateY(-2px);
}

.income-item { border-left: 4px solid var(--green-500); }
.expense-item { border-left: 4px solid var(--red-500); }

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 0.75rem;
  gap: 1rem;
}

.item-header h4 {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--color-text);
  flex: 1;
}

.item-amount {
  font-size: 1.125rem;
  font-weight: 700;
  flex-shrink: 0;
}

.item-amount.positive { color: var(--green-500); }
.item-amount.negative { color: var(--red-500); }

.item-details {
  display: flex;
  gap: 1.5rem;
  margin-bottom: 0.75rem;
}

.item-category,
.item-date {
  font-size: 0.875rem;
  color: var(--color-muted);
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  line-height: 1;
}

/* Alineación de iconos en detalles */
.item-category i, .item-category svg,
.item-date i, .item-date svg {
  width: 1em;
  height: 1em;
  display: inline-block;
  vertical-align: middle;
}

.item-concept {
  margin: 0 0 0.75rem 0;
  font-size: 0.9rem;
  color: #495057;
  line-height: 1.5;
}

.item-actions {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
}

.loading-state,
.empty-state {
  text-align: center;
  padding: 3rem 1rem;
  color: var(--color-muted);
}

.empty-icon {
  font-size: 3rem;
  display: block;
  margin-bottom: 1rem;
  opacity: 0.5;
}

.empty-state p {
  margin: 0;
  font-size: 1rem;
  color: var(--color-muted);
}


/* ==================== 5) FORMS SECTION ==================== */
.forms-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
  gap: 2rem;
}

/* Columnas con sombra más marcada */
.form-column {
  background: var(--color-card);
  border-radius: var(--radius-12);
  border: 1px solid var(--gray-200);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: transform var(--trans), box-shadow var(--trans);
}

.form-column:hover { box-shadow: var(--shadow-md); }

.form-card {
  padding: 1.5rem;
  background: #fff;
}

.form-card h3 {
  margin: 0 0 1.5rem 0;
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--color-text);
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--gray-200);
}

.income-form-card h3 {
  color: var(--green-500);
  border-color: var(--green-500);
}

.expense-form-card h3 {
  color: var(--red-500);
  border-color: var(--red-500);
}

/* Form grid */
form {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.form-group label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #495057;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.form-group input,
.form-group select {
  padding: 0.75rem 1rem;
  border: 2px solid var(--gray-200);
  border-radius: var(--radius-8);
  font-size: 0.95rem;
  transition: border-color var(--trans), box-shadow var(--trans), background var(--trans);
  background: #ffffff;
  color: var(--color-text);
  font-family: inherit;
  appearance: none;
}

.form-group input:focus,
.form-group select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: var(--ring);
}

.form-group select { cursor: pointer; }

/* Opcional: inputs con icono (si los usas) */
.input-with-icon {
  position: relative;
}
.input-with-icon .input-icon {
  position: absolute;
  left: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-muted);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.input-with-icon input {
  padding-left: 2.25rem;
}


/* ==================== 6) BOTONES & ALINEACIÓN DE ICONOS ==================== */
/* Base botón */
.submit-btn,
.delete-btn {
  display: inline-flex;           /* Para alinear icono + texto al centro */
  align-items: center;
  justify-content: center;
  gap: 0.5rem;                    /* Espacio entre icono y texto */
  line-height: 1;                 /* Evita desalineación vertical */
  padding: 0.875rem 1.5rem;
  border-radius: var(--radius-10);
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform var(--trans), box-shadow var(--trans), background var(--trans), color var(--trans), border-color var(--trans), opacity var(--trans);
  margin-top: 0.5rem;
  box-shadow: var(--shadow-xs);
  white-space: nowrap;
  text-align: center;
  user-select: none;
}

/* Tamaños y alineación de iconos dentro del botón */
.submit-btn i,
.submit-btn svg,
.delete-btn i,
.delete-btn svg {
  width: 1.15em;
  height: 1.15em;
  display: inline-block;
  vertical-align: middle;
  flex: 0 0 auto;
  pointer-events: none;
}

/* Botones de acción (ingreso / gasto) */
.submit-btn { border: none; }

.income-btn {
  background: linear-gradient(135deg, var(--green-500) 0%, var(--green-600) 100%);
  color: #ffffff;
}
.income-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(72, 187, 120, 0.35);
}
.income-btn:active:not(:disabled) { transform: translateY(0); }

.expense-btn {
  background: linear-gradient(135deg, var(--red-500) 0%, var(--red-600) 100%);
  color: #ffffff;
}
.expense-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(245, 101, 101, 0.35);
}
.expense-btn:active:not(:disabled) { transform: translateY(0); }

.submit-btn:disabled { opacity: 0.6; cursor: not-allowed; }

/* Botón eliminar */
.delete-btn {
  padding: 0.5rem 1rem;
  background: transparent;
  border: 2px solid var(--red-500);
  border-radius: var(--radius-8);
  color: var(--red-500);
  font-size: 0.875rem;
  font-weight: 600;
}
.delete-btn:hover {
  background: var(--red-500);
  color: #ffffff;
  box-shadow: 0 2px 12px rgba(245, 101, 101, 0.35);
}

/* Variantes posicionales de icono (si las quieres usar) */
.btn-icon-left i, .btn-icon-left svg { margin-right: 0.25rem; }
.btn-icon-right i, .btn-icon-right svg { margin-left: 0.25rem; }


/* ==================== 7) RESPONSIVE ==================== */
@media (max-width: 1024px) {
  .transactions-section,
  .forms-section {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .summary-cards { grid-template-columns: 1fr; }

  .form-row { grid-template-columns: 1fr; }

  .transaction-list { max-height: 400px; }
}

@media (max-width: 480px) {
  .summary-card { padding: 1.25rem; }

  .card-icon {
    width: 56px;
    height: 56px;
    font-size: 1.75rem;
  }

  .card-amount { font-size: 1.5rem; }

  .transaction-item { padding: 1rem; }

  .form-card { padding: 1.25rem; }
}


/* ==================== 8) ACCESIBILIDAD / REDUCED MOTION ==================== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}